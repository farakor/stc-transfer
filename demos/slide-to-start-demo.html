<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Slide to Start Demo - –î–µ–º–æ —Å–ª–∞–π–¥–µ—Ä–∞ –¥–ª—è –≤–æ–¥–∏—Ç–µ–ª—è</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes pulseSlow {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.85; }
        }
        .animate-pulse-slow {
            animation: pulseSlow 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen flex flex-col items-center justify-center p-4">
    <div class="max-w-md w-full space-y-6">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
        <div class="text-center mb-8">
            <h1 class="text-3xl font-bold text-gray-900 mb-2">üöó Slide to Start</h1>
            <p class="text-gray-600">–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Å–ª–∞–π–¥–µ—Ä–∞ "–ù–∞—á–∞—Ç—å —Ä–µ–π—Å"</p>
            <p class="text-sm text-gray-500 mt-2">–°–≤–∞–π–ø–Ω–∏—Ç–µ –∏–ª–∏ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –∫–Ω–æ–ø–∫—É –≤–ø—Ä–∞–≤–æ</p>
        </div>

        <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø–æ–µ–∑–¥–∫–µ -->
        <div class="bg-white rounded-2xl shadow-lg p-6 space-y-4">
            <div class="flex items-center justify-between">
                <div>
                    <h2 class="text-lg font-semibold text-gray-900">–ù–æ–≤—ã–π —Ä–µ–π—Å</h2>
                    <p class="text-sm text-gray-500">–ó–∞–∫–∞–∑ #12345</p>
                </div>
                <div class="text-right">
                    <p class="text-2xl font-bold text-blue-600">250,000 —Å—É–º</p>
                    <p class="text-sm text-gray-500">30 –º–∏–Ω</p>
                </div>
            </div>

            <div class="border-t border-gray-100 pt-4 space-y-3">
                <div class="flex items-start space-x-3">
                    <div class="w-3 h-3 bg-blue-500 rounded-full mt-1"></div>
                    <div>
                        <p class="text-xs text-gray-500 uppercase">–û—Ç–∫—É–¥–∞</p>
                        <p class="font-medium text-gray-900">Hilton Garden Inn Samarkand</p>
                    </div>
                </div>
                <div class="flex items-start space-x-3">
                    <div class="w-3 h-3 bg-gray-900 rounded-full mt-1"></div>
                    <div>
                        <p class="text-xs text-gray-500 uppercase">–ö—É–¥–∞</p>
                        <p class="font-medium text-gray-900">Savitsky Plaza</p>
                    </div>
                </div>
            </div>

            <!-- –°–ª–∞–π–¥–µ—Ä -->
            <div id="slideContainer" class="pt-4"></div>

            <!-- –°—Ç–∞—Ç—É—Å -->
            <div id="statusMessage" class="text-center text-sm text-gray-500 h-6"></div>
        </div>

        <!-- –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è -->
        <div class="bg-white rounded-2xl shadow-lg p-6">
            <h3 class="font-semibold text-gray-900 mb-3">‚ú® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏</h3>
            <ul class="space-y-2 text-sm text-gray-600">
                <li>‚úì –ü–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ —Å–≤–∞–π–ø–µ</li>
                <li>‚úì –¢–∞–∫—Ç–∏–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å (–≤–∏–±—Ä–∞—Ü–∏—è)</li>
                <li>‚úì –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Telegram Web App haptic feedback</li>
                <li>‚úì –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ touch –∏ mouse —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö</li>
                <li>‚úì –ü—É–ª—å—Å–∏—Ä—É—é—â–∞—è –∞–Ω–∏–º–∞—Ü–∏—è-–ø–æ–¥—Å–∫–∞–∑–∫–∞</li>
                <li>‚úì –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ –Ω–∞–∂–∞—Ç–∏—è</li>
            </ul>
        </div>

        <!-- –ö–Ω–æ–ø–∫–∞ —Å–±—Ä–æ—Å–∞ -->
        <button 
            id="resetButton"
            class="w-full py-3 bg-gray-200 text-gray-700 rounded-xl font-medium hover:bg-gray-300 transition-colors"
        >
            –°–±—Ä–æ—Å–∏—Ç—å –¥–µ–º–æ
        </button>
    </div>

    <script>
        class SlideToStart {
            constructor(container, options = {}) {
                this.container = container;
                this.options = {
                    text: options.text || '–°–≤–∞–π–ø –¥–ª—è –Ω–∞—á–∞–ª–∞ —Ä–µ–π—Å–∞',
                    onComplete: options.onComplete || (() => {}),
                    disabled: options.disabled || false,
                    vibrate: options.vibrate !== false
                };
                
                this.isDragging = false;
                this.position = 0;
                this.isCompleted = false;
                this.startX = 0;
                this.maxPosition = 0;
                
                this.render();
                this.attachEvents();
            }

            render() {
                this.container.innerHTML = `
                    <div class="slide-to-start-wrapper">
                        <div class="slide-track relative h-14 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl overflow-hidden transition-all duration-300 shadow-lg cursor-grab active:cursor-grabbing animate-pulse-slow">
                            <div class="slide-progress absolute inset-0 bg-gradient-to-r from-blue-600 to-blue-700 transition-opacity duration-200" style="opacity: 0;"></div>
                            
                            <div class="slide-text absolute inset-0 flex items-center justify-center pointer-events-none">
                                <span class="text-white font-semibold text-sm select-none">${this.options.text}</span>
                            </div>
                            
                            <div class="slide-arrows absolute inset-0 flex items-center justify-end pr-4 pointer-events-none">
                                <div class="flex space-x-1 opacity-30">
                                    <span class="text-white text-xl">‚Ä∫</span>
                                    <span class="text-white text-xl">‚Ä∫</span>
                                    <span class="text-white text-xl">‚Ä∫</span>
                                </div>
                            </div>
                            
                            <div class="slide-button absolute top-1 left-1 h-12 w-12 bg-white rounded-lg shadow-lg flex items-center justify-center transition-transform" style="transform: translateX(0px);">
                                <span class="text-blue-600 text-2xl font-bold">‚Ä∫</span>
                            </div>
                        </div>
                    </div>
                `;

                this.track = this.container.querySelector('.slide-track');
                this.button = this.container.querySelector('.slide-button');
                this.progress = this.container.querySelector('.slide-progress');
                this.text = this.container.querySelector('.slide-text span');
                this.arrows = this.container.querySelector('.slide-arrows');
                
                this.maxPosition = this.track.offsetWidth - this.button.offsetWidth - 8;
            }

            attachEvents() {
                // Touch events
                this.button.addEventListener('touchstart', (e) => this.handleStart(e.touches[0].clientX));
                document.addEventListener('touchmove', (e) => this.handleMove(e.touches[0].clientX));
                document.addEventListener('touchend', () => this.handleEnd());

                // Mouse events
                this.button.addEventListener('mousedown', (e) => this.handleStart(e.clientX));
                document.addEventListener('mousemove', (e) => this.handleMove(e.clientX));
                document.addEventListener('mouseup', () => this.handleEnd());
            }

            handleStart(clientX) {
                if (this.isCompleted) return;
                this.isDragging = true;
                this.startX = clientX - this.position;
                this.button.style.transform = `translateX(${this.position}px) scale(1.05)`;
            }

            handleMove(clientX) {
                if (!this.isDragging || this.isCompleted) return;
                
                const newPosition = clientX - this.startX;
                this.position = Math.max(0, Math.min(newPosition, this.maxPosition));
                
                const percentage = (this.position / this.maxPosition) * 100;
                const textOpacity = Math.max(0, 1 - percentage / 50);
                
                this.button.style.transform = `translateX(${this.position}px) scale(1.05)`;
                this.progress.style.opacity = percentage / 100;
                this.text.style.opacity = textOpacity;

                if (this.position >= this.maxPosition * 0.9) {
                    this.complete();
                }
            }

            handleEnd() {
                if (!this.isDragging) return;
                this.isDragging = false;
                
                if (this.position < this.maxPosition * 0.9) {
                    this.reset();
                }
            }

            complete() {
                if (this.isCompleted) return;
                this.isCompleted = true;
                this.position = this.maxPosition;
                
                this.track.classList.remove('from-blue-500', 'to-blue-600', 'animate-pulse-slow');
                this.track.classList.add('from-green-500', 'to-green-600');
                this.button.style.transform = `translateX(${this.maxPosition}px)`;
                this.button.innerHTML = '<span class="text-green-500 text-2xl">‚úì</span>';
                this.text.textContent = '‚úì –†–µ–π—Å –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è...';
                this.text.style.opacity = '1';
                this.arrows.style.display = 'none';
                
                // –í–∏–±—Ä–∞—Ü–∏—è
                if (this.options.vibrate && navigator.vibrate) {
                    navigator.vibrate([50, 30, 50]);
                }
                
                setTimeout(() => {
                    this.options.onComplete();
                }, 300);
            }

            reset() {
                this.position = 0;
                this.button.style.transform = 'translateX(0px)';
                this.progress.style.opacity = '0';
                this.text.style.opacity = '1';
            }

            destroy() {
                this.container.innerHTML = '';
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        let sliderInstance = null;
        
        function initSlider() {
            const container = document.getElementById('slideContainer');
            const statusMessage = document.getElementById('statusMessage');
            
            if (sliderInstance) {
                sliderInstance.destroy();
            }
            
            sliderInstance = new SlideToStart(container, {
                text: '–°–≤–∞–π–ø –¥–ª—è –Ω–∞—á–∞–ª–∞ —Ä–µ–π—Å–∞',
                onComplete: () => {
                    statusMessage.textContent = '‚úÖ –†–µ–π—Å –Ω–∞—á–∞—Ç —É—Å–ø–µ—à–Ω–æ!';
                    statusMessage.classList.remove('text-gray-500');
                    statusMessage.classList.add('text-green-600', 'font-semibold');
                    
                    setTimeout(() => {
                        statusMessage.textContent = '';
                        statusMessage.classList.remove('text-green-600', 'font-semibold');
                        statusMessage.classList.add('text-gray-500');
                        initSlider(); // –ü–µ—Ä–µ—Å–æ–∑–¥–∞–µ–º —Å–ª–∞–π–¥–µ—Ä
                    }, 2000);
                },
                vibrate: true
            });
        }

        // –ö–Ω–æ–ø–∫–∞ —Å–±—Ä–æ—Å–∞
        document.getElementById('resetButton').addEventListener('click', () => {
            initSlider();
            document.getElementById('statusMessage').textContent = '';
        });

        // –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        initSlider();

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–¥—Å–∫–∞–∑–∫—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('load', () => {
            const statusMessage = document.getElementById('statusMessage');
            statusMessage.textContent = 'üëÜ –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–≤–∞–π–ø–Ω—É—Ç—å —Å–ª–∞–π–¥–µ—Ä';
            setTimeout(() => {
                statusMessage.textContent = '';
            }, 3000);
        });
    </script>
</body>
</html>

