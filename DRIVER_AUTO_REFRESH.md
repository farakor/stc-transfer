# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤ —É –≤–æ–¥–∏—Ç–µ–ª—è

## –û–ø–∏—Å–∞–Ω–∏–µ

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∑–∞–∫–∞–∑–æ–≤ —É –≤–æ–¥–∏—Ç–µ–ª—è –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ä—É—á–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

## –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥

- –ó–∞–∫–∞–∑—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥ (—Ä–∞–Ω—å—à–µ –±—ã–ª–æ 30 —Å–µ–∫—É–Ω–¥)
- –ü—Ä–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –∑–∞–∫–∞–∑–∞ –≤–æ–¥–∏—Ç–µ–ª—å —É–≤–∏–¥–∏—Ç –µ–≥–æ —á–µ—Ä–µ–∑ –º–∞–∫—Å–∏–º—É–º 10 —Å–µ–∫—É–Ω–¥
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

### 2. –í–∏–∑—É–∞–ª—å–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

–í header –ø–∞–Ω–µ–ª–∏ –≤–æ–¥–∏—Ç–µ–ª—è –¥–æ–±–∞–≤–ª–µ–Ω –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä:

- –ò–∫–æ–Ω–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å —Ç–µ–∫—Å—Ç–æ–º "–∞–≤—Ç–æ" –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –æ–∂–∏–¥–∞–Ω–∏—è
- –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∏–∫–æ–Ω–∫–∞ –≤—Ä–∞—â–∞–µ—Ç—Å—è —Å —Ç–µ–∫—Å—Ç–æ–º "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ..."
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –≤–æ–¥–∏—Ç–µ–ª—é –≤–∏–¥–µ—Ç—å, —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –∞–∫—Ç–∏–≤–Ω–∞

### 3. –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

- –ü—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –∑–∞–∫–∞–∑–æ–≤:
  - –ó–≤—É–∫–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
  - –ë—Ä–∞—É–∑–µ—Ä–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (–µ—Å–ª–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ)
  - –í–∏–±—Ä–∞—Ü–∏—è –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
  - –í–∏–∑—É–∞–ª—å–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –Ω–æ–≤—ã—Ö –∑–∞–∫–∞–∑–æ–≤

### 4. –£–ª—É—á—à–µ–Ω–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –≤ `useEffect`
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ –∫–æ—Ä–æ—Ç–∫–æ–µ –≤—Ä–µ–º—è (500ms)

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

**DriverDashboard.tsx:**

```typescript
// –ù–æ–≤—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
const [isAutoRefreshing, setIsAutoRefreshing] = useState(false);
const [lastUpdateTime, setLastUpdateTime] = useState<Date>(new Date());

// –†–∞–∑–¥–µ–ª—å–Ω—ã–µ useEffect –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ polling
useEffect(() => {
  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤–æ–¥–∏—Ç–µ–ª—è
}, [navigate, requestNotificationPermission]);

useEffect(() => {
  // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥
  const interval = setInterval(() => {
    fetchActiveBookings(true);
  }, 10000);

  return () => clearInterval(interval);
}, [driver]);
```

### API Endpoint

```
GET /api/drivers/:id/active-bookings
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–∫–∞–∑—ã —Å–æ —Å—Ç–∞—Ç—É—Å–∞–º–∏:

- `VEHICLE_ASSIGNED` - –ú–∞—à–∏–Ω–∞ –Ω–∞–∑–Ω–∞—á–µ–Ω–∞
- `CONFIRMED` - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω
- `IN_PROGRESS` - –í –ø—É—Ç–∏

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **–ë—ã—Å—Ç—Ä–æ–µ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –í–æ–¥–∏—Ç–µ–ª—å –≤–∏–¥–∏—Ç –Ω–æ–≤—ã–µ –∑–∞–∫–∞–∑—ã –≤ —Ç–µ—á–µ–Ω–∏–µ 10 —Å–µ–∫—É–Ω–¥
2. **–£–¥–æ–±—Å—Ç–≤–æ** - –ù–µ –Ω—É–∂–Ω–æ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É
3. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - –í–æ–¥–∏—Ç–µ–ª—å –Ω–µ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç –Ω–æ–≤—ã–π –∑–∞–∫–∞–∑ –¥–∞–∂–µ –µ—Å–ª–∏ —Å–º–æ—Ç—Ä–∏—Ç –≤ –¥—Ä—É–≥–æ–µ –æ–∫–Ω–æ
4. **–≠–∫–æ–Ω–æ–º–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞** - –û–±–Ω–æ–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ, –∞ –Ω–µ –≤—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
5. **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å** - –í–∏–∑—É–∞–ª—å–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã

## –°–≤—è–∑—å —Å Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏

–°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∫–æ–º–ø–ª–µ–∫—Å–µ —Å Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:

### –î–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ–ø–æ–≤–µ—â–µ–Ω–∏—è:

1. **Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ** (–º–≥–Ω–æ–≤–µ–Ω–Ω–æ)

   - –ü—Ä–∏—Ö–æ–¥–∏—Ç —Å—Ä–∞–∑—É –ø—Ä–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–∏ –∑–∞–∫–∞–∑–∞
   - –°–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∑–∞–∫–∞–∑–µ
   - –†–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –∫–æ–≥–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–∫—Ä—ã—Ç–æ
   - –° –∫–Ω–æ–ø–∫–∞–º–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

2. **–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏** (–∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥)
   - –û–±–Ω–æ–≤–ª—è–µ—Ç —Å–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å
   - –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç–æ
   - –í–∏–∑—É–∞–ª—å–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–æ–±—ã—Ç–∏–π:

```
1. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –Ω–∞–∑–Ω–∞—á–∞–µ—Ç –≤–æ–¥–∏—Ç–µ–ª—è –Ω–∞ –∑–∞–∫–∞–∑
   ‚Üì
2. –í–æ–¥–∏—Ç–µ–ª—é –ø—Ä–∏—Ö–æ–¥–∏—Ç Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (–º–≥–Ω–æ–≤–µ–Ω–Ω–æ)
   ‚Üì
3. –ó–∞–∫–∞–∑ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –≤–æ–¥–∏—Ç–µ–ª—è (–¥–æ 10 —Å–µ–∫)
   ‚Üì
4. –í–æ–¥–∏—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–∑ Telegram
   ‚Üì
5. –í–∏–¥–∏—Ç –Ω–æ–≤—ã–π –∑–∞–∫–∞–∑ –∏ –º–æ–∂–µ—Ç –µ–≥–æ –ø—Ä–∏–Ω—è—Ç—å
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –¥–≤—É—Ö —Å–∏—Å—Ç–µ–º –≤–º–µ—Å—Ç–µ:

‚úÖ **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - –í–æ–¥–∏—Ç–µ–ª—å —É–∑–Ω–∞–µ—Ç –æ –∑–∞–∫–∞–∑–µ –¥–∞–∂–µ –µ—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–∫—Ä—ã—Ç–æ  
‚úÖ **–°–∫–æ—Ä–æ—Å—Ç—å** - Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ  
‚úÖ **–£–¥–æ–±—Å—Ç–≤–æ** - –ú–æ–∂–µ—Ç –ø—Ä–∏–Ω—è—Ç—å –∑–∞–∫–∞–∑ –ø—Ä—è–º–æ –∏–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è  
‚úÖ **–ê–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å** - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏  
‚úÖ **–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ—Å—Ç—å** - –ü–æ–ª–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞ –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–∏

üìñ –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è—Ö —Å–º. [DRIVER_TELEGRAM_NOTIFICATIONS.md](DRIVER_TELEGRAM_NOTIFICATIONS.md)

## –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

–í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –≤ –±—É–¥—É—â–µ–º:

1. **WebSocket** - –î–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–µ–∑ polling
2. **Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - –ë—Ä–∞—É–∑–µ—Ä–Ω—ã–µ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á–∞—Å—Ç–æ—Ç—ã** - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
4. **–û—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º** - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ä–∞–±–æ—Ç–∞ –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
5. **–ö–Ω–æ–ø–∫–∞ –ø—Ä–∏–Ω—è—Ç–∏—è** - –ü—Ä–∏–Ω—è—Ç—å –∑–∞–∫–∞–∑ –ø—Ä—è–º–æ –∏–∑ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
