# üó∫Ô∏è –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã –≤ Telegram - –ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ

## –ü—Ä–æ–±–ª–µ–º–∞

–ö–∞—Ä—Ç–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∞ –≤ Telegram WebApp, –Ω–æ —Ä–∞–±–æ—Ç–∞–ª–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –Ω–∞ `http://localhost:3003/status/`.

## –ü—Ä–∏—á–∏–Ω–∞

Telegram –±–ª–æ–∫–∏—Ä—É–µ—Ç JSONP –∑–∞–ø—Ä–æ—Å—ã –∏–∑-–∑–∞ –ø–æ–ª–∏—Ç–∏–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (CSP).

## –†–µ—à–µ–Ω–∏–µ

–°–æ–∑–¥–∞–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤—ã–±–æ—Ä–∞ –º–µ—Ç–æ–¥–∞ –∑–∞–≥—Ä—É–∑–∫–∏:

- **–í Telegram** ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Backend API
- **–í –±—Ä–∞—É–∑–µ—Ä–µ** ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è JSONP (–∫–∞–∫ —Ä–∞–Ω—å—à–µ)

## –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

### Backend

1. **–ü—É–±–ª–∏—á–Ω—ã–π tracking API**: `/api/tracking/vehicles/:unitId/position`
2. –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä: `trackingController.ts`
3. –†–æ—É—Ç—ã: `tracking.ts`

### Frontend

1. **–°–µ—Ä–≤–∏—Å**: `wialonBackendService.ts` - –¥–ª—è —Ä–∞–±–æ—Ç—ã —á–µ—Ä–µ–∑ backend
2. **–£—Ç–∏–ª–∏—Ç—ã**: `telegram.ts` - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ Telegram WebApp
3. **–û–±–Ω–æ–≤–ª–µ–Ω**: `VehicleTracker.tsx` - –∞–≤—Ç–æ–≤—ã–±–æ—Ä –º–µ—Ç–æ–¥–∞

## –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ backend –∏ frontend:

```bash
cd backend && npm run dev
cd frontend && npm run dev
```

2. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram –±–æ—Ç –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞

3. –ö–∞—Ä—Ç–∞ –¥–æ–ª–∂–Ω–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è! üéâ

## –õ–æ–≥–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

**–í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (Telegram):**

```
üöó Loading position for unit 123456 via Backend API...
‚úÖ Position loaded successfully via Backend API
```

**–í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (–æ–±—ã—á–Ω—ã–π):**

```
üöó Loading position for unit 123456 via JSONP...
‚úÖ Position loaded successfully via JSONP
```

**–í –ª–æ–≥–∞—Ö backend:**

```
üìç Public tracking: –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –¥–ª—è unit 123456...
```

## –ì–æ—Ç–æ–≤–æ! ‚úÖ

–¢–µ–ø–µ—Ä—å –∫–∞—Ä—Ç–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –æ–±–µ–∏—Ö —Å—Ä–µ–¥–∞—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!
