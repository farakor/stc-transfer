# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ª–æ–∫–∞—Ü–∏–π –≤ —Ä–∞–∑–¥–µ–ª–µ "–î–æ–±–∞–≤–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç"

## ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞!

**–ü—Ä–æ–±–ª–µ–º–∞:** –í —Ä–∞–∑–¥–µ–ª–µ "–¢–∞—Ä–∏—Ñ—ã" ‚Üí "–î–æ–±–∞–≤–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç" –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å –≤—Å–µ –ª–æ–∫–∞—Ü–∏–∏ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –∞ —Ç–æ–ª—å–∫–æ —Ç–µ, –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –º–∞—Ä—à—Ä—É—Ç–∞—Ö.

## üîç –ü—Ä–∏—á–∏–Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã:

### **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ª–æ–∫–∞—Ü–∏–π:**
```typescript
// ‚ùå –ë–´–õ–û: –ü–æ–∫–∞–∑—ã–≤–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞—Ü–∏–∏ –∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤
{Array.from(new Set(matrix.routes.flatMap(r => [r.from_location, r.to_location])))
  .filter((location, index, self) => self.findIndex(l => l.id === location.id) === index)
  .map((location) => (
    <option key={location.id} value={location.id}>
      {getLocationTypeIcon(location.type)} {location.name}
    </option>
  ))}
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–æ–≤—ã–µ –ª–æ–∫–∞—Ü–∏–∏ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–ª–∏—Å—å –≤ –≤—ã–ø–∞–¥–∞—é—â–∏—Ö —Å–ø–∏—Å–∫–∞—Ö, –ø–æ–∫–∞ –Ω–µ –±—ã–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –≤ –º–∞—Ä—à—Ä—É—Ç–∞—Ö!

## üõ†Ô∏è –†–µ—à–µ–Ω–∏–µ:

### **1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è `allLocations`:**
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç —É–∂–µ –∏–º–µ–ª —Å–æ—Å—Ç–æ—è–Ω–∏–µ `allLocations` –∏ —Ñ—É–Ω–∫—Ü–∏—é `loadAllLocations()`, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–≥—Ä—É–∂–∞–ª–∞ –≤—Å–µ –ª–æ–∫–∞—Ü–∏–∏ –∏–∑ API:

```typescript
const [allLocations, setAllLocations] = useState<LocationData[]>([]);

const loadAllLocations = async () => {
  const response = await fetch('http://localhost:3001/api/admin/tariffs/locations');
  const result = await response.json();
  if (result.success) {
    setAllLocations(result.data);
  }
};
```

### **2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω select –¥–ª—è –ø–æ–ª—è "–û—Ç–∫—É–¥–∞":**
```typescript
// ‚úÖ –°–¢–ê–õ–û: –ò—Å–ø–æ–ª—å–∑—É–µ–º –≤—Å–µ –ª–æ–∫–∞—Ü–∏–∏ –∏–∑ API
<select
  value={routeForm.from_location_id}
  onChange={(e) => setRouteForm({ ...routeForm, from_location_id: parseInt(e.target.value) })}
  className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
>
  <option value={0}>–í—ã–±–µ—Ä–∏—Ç–µ –ª–æ–∫–∞—Ü–∏—é</option>
  {allLocations.map((location) => (
    <option key={location.id} value={location.id}>
      {getLocationTypeIcon(location.type)} {location.name}
    </option>
  ))}
</select>
```

### **3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω select –¥–ª—è –ø–æ–ª—è "–ö—É–¥–∞":**
```typescript
// ‚úÖ –°–¢–ê–õ–û: –ò—Å–ø–æ–ª—å–∑—É–µ–º –≤—Å–µ –ª–æ–∫–∞—Ü–∏–∏ –∏–∑ API —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
<select
  value={routeForm.to_location_id}
  onChange={(e) => setRouteForm({ ...routeForm, to_location_id: parseInt(e.target.value) })}
  className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
>
  <option value={0}>–í—ã–±–µ—Ä–∏—Ç–µ –ª–æ–∫–∞—Ü–∏—é</option>
  {allLocations
    .filter(location => location.id !== routeForm.from_location_id)
    .map((location) => (
      <option key={location.id} value={location.id}>
        {getLocationTypeIcon(location.type)} {location.name}
      </option>
    ))}
</select>
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

### **API —ç–Ω–¥–ø–æ–∏–Ω—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:**
```bash
curl -X GET "http://localhost:3001/api/admin/tariffs/locations"
```
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç 25 –ª–æ–∫–∞—Ü–∏–π —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ (–≥–æ—Ä–æ–¥–∞, –∞—ç—Ä–æ–ø–æ—Ä—Ç—ã, –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, —Å—Ç–∞–Ω—Ü–∏–∏).

### **–°–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª:**
`test-route-locations.html` - –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤—Å–µ—Ö –ª–æ–∫–∞—Ü–∏–π.

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç:

- ‚úÖ –í—Å–µ 25 –ª–æ–∫–∞—Ü–∏–π –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Ç–µ–ø–µ—Ä—å –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –≤—ã–ø–∞–¥–∞—é—â–∏—Ö —Å–ø–∏—Å–∫–∞—Ö
- ‚úÖ –ù–æ–≤—ã–µ –ª–æ–∫–∞—Ü–∏–∏ —Å—Ä–∞–∑—É –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è –≤—ã–±–æ—Ä–∞ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –º–∞—Ä—à—Ä—É—Ç–∞—Ö
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ (–Ω–µ–ª—å–∑—è –≤—ã–±—Ä–∞—Ç—å –æ–¥–Ω—É –∏ —Ç—É –∂–µ –ª–æ–∫–∞—Ü–∏—é –¥–ª—è "–û—Ç–∫—É–¥–∞" –∏ "–ö—É–¥–∞")
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω—ã –∏–∫–æ–Ω–∫–∏ —Ç–∏–ø–æ–≤ –ª–æ–∫–∞—Ü–∏–π –¥–ª—è –ª—É—á—à–µ–≥–æ UX

## üìÅ –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

1. **frontend/src/pages/admin/TariffsManagement.tsx** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ª–æ–∫–∞—Ü–∏–π –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ "–î–æ–±–∞–≤–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç"
2. **test-route-locations.html** - —Å–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

## üéØ –°—Ç–∞—Ç—É—Å: **–ó–ê–í–ï–†–®–ï–ù–û** ‚úÖ

–ü—Ä–æ–±–ª–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞. –¢–µ–ø–µ—Ä—å –≤—Å–µ –ª–æ–∫–∞—Ü–∏–∏ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ —Ä–∞–∑–¥–µ–ª–µ "–î–æ–±–∞–≤–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç" –≤ —Ç–∞—Ä–∏—Ñ–∞—Ö.
