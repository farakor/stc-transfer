# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Wialon

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

–í –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∞—Å—å –∫–∞—Ä—Ç–∞ —Å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–º. –û—à–∏–±–∫–∞:

```
–†–µ–∂–∏–º –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏: –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ Wialon.
–ü—Ä–∏—á–∏–Ω–∞: Wialon JSONP login failed: JSONP request failed to load.
Server may be unreachable or blocked by CORS.
```

## üîç –ü—Ä–∏—á–∏–Ω–∞

–î–æ–º–µ–Ω `gps.ent-en.com` –Ω–µ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ DNS:

```bash
$ curl http://gps.ent-en.com/wialon/ajax.html
curl: (6) Could not resolve host: gps.ent-en.com
```

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### –û—Å–Ω–æ–≤–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ IP –∞–¥—Ä–µ—Å–∞

–í–º–µ—Å—Ç–æ –¥–æ–º–µ–Ω–∞ `gps.ent-en.com` –∏—Å–ø–æ–ª—å–∑—É–µ–º IP –∞–¥—Ä–µ—Å `176.74.220.111`, –∫–æ—Ç–æ—Ä—ã–π –¥–æ—Å—Ç—É–ø–µ–Ω –∏ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã:

```bash
$ curl http://176.74.220.111/wialon/ajax.html
HTTP/1.1 200 OK
Content-Type: application/json
Server: adf_http_server/4.3.0205
```

### –ß—Ç–æ –±—ã–ª–æ –∏–∑–º–µ–Ω–µ–Ω–æ

#### 1. Frontend –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (`frontend/src/config/wialon.config.ts`)

**–ë—ã–ª–æ:**

```typescript
baseUrl: 'https://gps.ent-en.com/wialon',
```

**–°—Ç–∞–ª–æ:**

```typescript
baseUrl: 'http://176.74.220.111/wialon',
```

#### 2. Backend –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (`backend/src/services/wialonService.ts`)

**–ë—ã–ª–æ:**

```typescript
baseUrl: process.env.WIALON_BASE_URL || 'https://gps.ent-en.com/wialon',
```

**–°—Ç–∞–ª–æ:**

```typescript
baseUrl: process.env.WIALON_BASE_URL || 'http://176.74.220.111/wialon',
```

#### 3. Environment –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (`backend/.env`)

**–ë—ã–ª–æ:**

```env
WIALON_BASE_URL="https://gps.ent-en.com/wialon"
```

**–°—Ç–∞–ª–æ:**

```env
WIALON_BASE_URL="http://176.74.220.111/wialon"
```

## üöÄ –ö–∞–∫ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### 1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

–ò–∑–º–µ–Ω–µ–Ω–∏—è —É–∂–µ –≤–Ω–µ—Å–µ–Ω—ã –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é. –¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å:

```bash
# –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ frontend (–µ—Å–ª–∏ –∑–∞–ø—É—â–µ–Ω)
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ (Ctrl+C) –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–Ω–æ–≤–∞:
cd frontend
npm run dev

# Backend –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è nodemon
# –ï—Å–ª–∏ –Ω–µ—Ç, –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Ä—É—á–Ω—É—é:
cd backend
npm run dev
```

### 2. –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å: `http://localhost:5173/admin` (–∏–ª–∏ –≤–∞—à URL)
2. –ù–∞–∂–º–∏—Ç–µ `Ctrl+F5` (–∂–µ—Å—Ç–∫–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞) –∏–ª–∏ `Cmd+Shift+R` –Ω–∞ Mac
3. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–æ–≥–æ–≤

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

–í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –ª–æ–≥–∏:

```
üîå –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Wialon...
üìç –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: { baseUrl: 'http://176.74.220.111/wialon', hasToken: true }
üåê JSONP request URL: http://176.74.220.111/wialon/ajax.html?svc=token/login&...
‚úÖ Wialon JSONP connected: { sid: '...', userName: '...', ... }
üöå –ü–æ–ª—É—á–µ–Ω–æ –ø–æ–∑–∏—Ü–∏–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞: XX
```

## üìä –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

- ‚úÖ –ö–∞—Ä—Ç–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫–µ "–û–±–∑–æ—Ä"
- ‚úÖ –°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è: "–ü–æ–¥–∫–ª—é—á–µ–Ω–æ (JSONP)" (–∑–µ–ª–µ–Ω—ã–π)
- ‚úÖ –í–∏–¥–Ω—ã —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ –Ω–∞ –∫–∞—Ä—Ç–µ
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è: –í—Å–µ–≥–æ/–í –¥–≤–∏–∂–µ–Ω–∏–∏/–û—Å—Ç–∞–Ω–æ–≤–∫–∞/–û—Ñ—Ñ–ª–∞–π–Ω
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥

## üîß –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã (–µ—Å–ª–∏ HTTP –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DNS

–ï—Å–ª–∏ –Ω—É–∂–µ–Ω –¥–æ–º–µ–Ω `gps.ent-en.com`:

1. –î–æ–±–∞–≤—å—Ç–µ –∑–∞–ø–∏—Å—å –≤ `/etc/hosts` (Linux/Mac) –∏–ª–∏ `C:\Windows\System32\drivers\etc\hosts` (Windows):

   ```
   176.74.220.111  gps.ent-en.com
   ```

2. –ò–∑–º–µ–Ω–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ –¥–æ–º–µ–Ω:
   ```typescript
   baseUrl: 'http://gps.ent-en.com/wialon',
   ```

### –í–∞—Ä–∏–∞–Ω—Ç 2: HTTPS —Å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–º

–ï—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ:

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `https://176.74.220.111/wialon/ajax.html`
2. –ü—Ä–∏–º–∏—Ç–µ —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (Advanced ‚Üí Proceed)
3. –ò–∑–º–µ–Ω–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:
   ```typescript
   baseUrl: 'https://176.74.220.111/wialon',
   ```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ß–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä

–ï—Å–ª–∏ HTTP –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –∏–∑-–∑–∞ Mixed Content:

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä:

   ```bash
   node wialon-proxy-server.js
   ```

2. –ò–∑–º–µ–Ω–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:
   ```typescript
   baseUrl: 'http://localhost:3005/wialon',
   ```

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –ï—Å–ª–∏ –∫–∞—Ä—Ç–∞ –≤—Å–µ –µ—â–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12):**

   - –ò—â–∏—Ç–µ –æ—à–∏–±–∫–∏ —Å –∫–ª—é—á–µ–≤—ã–º–∏ —Å–ª–æ–≤–∞–º–∏: "Wialon", "JSONP", "CORS"
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ Wialon

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–µ—Ä–∞:**

   ```bash
   curl -v http://176.74.220.111/wialon/ajax.html
   ```

   –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è —Å—Ç–∞—Ç—É—Å 200 OK

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω:**

   ```bash
   curl "http://176.74.220.111/wialon/ajax.html?svc=token/login&params=%7B%22token%22%3A%22YOUR_TOKEN%22%7D&callback=test"
   ```

   –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è JSONP –æ—Ç–≤–µ—Ç —Å —Å–µ—Å—Å–∏–µ–π

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Mixed Content:**
   - –ï—Å–ª–∏ frontend —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ HTTPS, –±—Ä–∞—É–∑–µ—Ä –º–æ–∂–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å HTTP –∑–∞–ø—Ä–æ—Å—ã
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS –≤–∞—Ä–∏–∞–Ω—Ç (—Å–º. –≤—ã—à–µ) –∏–ª–∏ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä

## üìù –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ü–æ—á–µ–º—É IP –∞–¥—Ä–µ—Å –≤–º–µ—Å—Ç–æ –¥–æ–º–µ–Ω–∞?

1. **DNS –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω:** –î–æ–º–µ–Ω `gps.ent-en.com` –Ω–µ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –ø—É–±–ª–∏—á–Ω—ã–µ DNS —Å–µ—Ä–≤–µ—Ä–∞
2. **–ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø —Ä–∞–±–æ—Ç–∞–µ—Ç:** IP –∞–¥—Ä–µ—Å `176.74.220.111` –¥–æ—Å—Ç—É–ø–µ–Ω –∏ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã
3. **–ú–µ–Ω—å—à–µ —Ç–æ—á–µ–∫ –æ—Ç–∫–∞–∑–∞:** –ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç DNS —Å–µ—Ä–≤–µ—Ä–æ–≤
4. **–ë—ã—Å—Ç—Ä–µ–µ:** –ù–µ—Ç –∑–∞–¥–µ—Ä–∂–∫–∏ –Ω–∞ DNS lookup

### –ü–æ—á–µ–º—É HTTP –≤–º–µ—Å—Ç–æ HTTPS?

1. **–°–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç:** HTTPS —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–∏–Ω—è—Ç–∏—è SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. **–ü—Ä–æ—â–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ:** HTTP —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ä–∞–∑—É –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
3. **JSONP –æ–±—Ö–æ–¥ CORS:** JSONP —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ –¥–ª—è HTTP –∏ HTTPS
4. **Development –æ–∫—Ä—É–∂–µ–Ω–∏–µ:** –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ HTTP –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –≤ production

–î–ª—è production —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:

1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≤–∞–ª–∏–¥–Ω—ã–π SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ Wialon
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HTTPS –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å DNS –¥–ª—è –¥–æ–º–µ–Ω–∞
4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å backend –ø—Ä–æ–∫—Å–∏ –≤–º–µ—Å—Ç–æ –ø—Ä—è–º–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

–û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å –∏ —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ:

- [ ] –ö–∞—Ä—Ç–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] –°—Ç–∞—Ç—É—Å "–ü–æ–¥–∫–ª—é—á–µ–Ω–æ (JSONP)" –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∑–µ–ª–µ–Ω—ã–º —Ü–≤–µ—Ç–æ–º
- [ ] –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ –≤–∏–¥–Ω—ã –Ω–∞ –∫–∞—Ä—Ç–µ
- [ ] –ö–ª–∏–∫ –Ω–∞ –º–∞—Ä–∫–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–µ
- [ ] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- [ ] –í –∫–æ–Ω—Å–æ–ª–∏ –Ω–µ—Ç –æ—à–∏–±–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Wialon

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û  
**–î–∞—Ç–∞:** 28 –æ–∫—Ç—è–±—Ä—è 2025  
**–ú–µ—Ç–æ–¥:** –ó–∞–º–µ–Ω–∞ –¥–æ–º–µ–Ω–∞ gps.ent-en.com –Ω–∞ IP –∞–¥—Ä–µ—Å 176.74.220.111
