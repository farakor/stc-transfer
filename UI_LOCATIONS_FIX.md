# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ª–æ–∫–∞—Ü–∏–π –≤ UI

## ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞!

**–ü—Ä–æ–±–ª–µ–º–∞:** –õ–æ–∫–∞—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è–ª–∏—Å—å –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö, –Ω–æ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å –≤ UI –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è.

## üîç –ü—Ä–∏—á–∏–Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã:

### **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:**
```typescript
// ‚ùå –ë–´–õ–û: –ü–æ–∫–∞–∑—ã–≤–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞—Ü–∏–∏, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤ –º–∞—Ä—à—Ä—É—Ç–∞—Ö
{Array.from(new Set(matrix.routes.flatMap(r => [r.from_location, r.to_location])))
  .filter((location, index, self) => self.findIndex(l => l.id === location.id) === index)
  .map((location) => (
    // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ª–æ–∫–∞—Ü–∏–∏
  ))}
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–æ–≤—ã–µ –ª–æ–∫–∞—Ü–∏–∏ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–ª–∏—Å—å, –ø–æ–∫–∞ –Ω–µ –±—ã–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –≤ –º–∞—Ä—à—Ä—É—Ç–∞—Ö!

## üõ†Ô∏è –†–µ—à–µ–Ω–∏–µ:

### **1. –î–æ–±–∞–≤–ª–µ–Ω–æ –æ—Ç–¥–µ–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö –ª–æ–∫–∞—Ü–∏–π:**
```typescript
const [allLocations, setAllLocations] = useState<LocationData[]>([]);
```

### **2. –°–æ–∑–¥–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤—Å–µ—Ö –ª–æ–∫–∞—Ü–∏–π:**
```typescript
const loadAllLocations = async () => {
  try {
    console.log('üìç –ó–∞–≥—Ä—É–∂–∞–µ–º –≤—Å–µ –ª–æ–∫–∞—Ü–∏–∏...');
    
    const response = await fetch('http://localhost:3001/api/admin/tariffs/locations');
    
    if (!response.ok) {
      throw new Error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ª–æ–∫–∞—Ü–∏–π');
    }

    const result = await response.json();
    
    if (result.success) {
      setAllLocations(result.data);
      console.log('‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ –ª–æ–∫–∞—Ü–∏–π:', result.data.length);
    } else {
      throw new Error(result.error || '–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ª–æ–∫–∞—Ü–∏–π');
    }
  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ª–æ–∫–∞—Ü–∏–π:', error);
  }
};
```

### **3. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ –ª–æ–∫–∞—Ü–∏–π –≤ –æ—Å–Ω–æ–≤–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é:**
```typescript
const loadTariffMatrix = async (silent = false) => {
  // ... –∑–∞–≥—Ä—É–∑–∫–∞ –º–∞—Ç—Ä–∏—Ü—ã ...
  
  if (data.success) {
    setMatrix(data.data);
    console.log('‚úÖ –ú–∞—Ç—Ä–∏—Ü–∞ —Ç–∞—Ä–∏—Ñ–æ–≤ –∑–∞–≥—Ä—É–∂–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ');

    // ‚úÖ –î–û–ë–ê–í–õ–ï–ù–û: –¢–∞–∫–∂–µ –∑–∞–≥—Ä—É–∂–∞–µ–º –≤—Å–µ –ª–æ–∫–∞—Ü–∏–∏
    await loadAllLocations();
    
    // ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ ...
  }
};
```

### **4. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ª–æ–∫–∞—Ü–∏–π:**
```typescript
// ‚úÖ –°–¢–ê–õ–û: –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –í–°–ï –ª–æ–∫–∞—Ü–∏–∏ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
<div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
  {allLocations.map((location) => (
    <div key={location.id} className="border border-gray-200 rounded-lg p-4 bg-white">
      <div className="flex items-center space-x-2 mb-2">
        <span className="text-2xl">{getLocationTypeIcon(location.type)}</span>
        <div>
          <div className="font-medium">{location.name}</div>
          <div className="text-sm text-gray-500 capitalize">{location.type}</div>
        </div>
      </div>

      <div className="text-xs text-gray-500">
        –ú–∞—Ä—à—Ä—É—Ç–æ–≤: {matrix.routes.filter(r =>
          r.from_location.id === location.id || r.to_location.id === location.id
        ).length}
      </div>
    </div>
  ))}
</div>
```

### **5. –î–æ–±–∞–≤–ª–µ–Ω —Å—á–µ—Ç—á–∏–∫ –ª–æ–∫–∞—Ü–∏–π –≤ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –≤–∫–ª–∞–¥–∫–∏:**
```typescript
// ‚úÖ –î–û–ë–ê–í–õ–ï–ù–û: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—Å–µ—Ö –ª–æ–∫–∞—Ü–∏–π
<MapPin className="w-4 h-4 mr-2" />
–õ–æ–∫–∞—Ü–∏–∏ ({allLocations.length})
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç:

### **–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚ùå –ù–æ–≤—ã–µ –ª–æ–∫–∞—Ü–∏–∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å –≤ UI
- ‚ùå –ü–æ–∫–∞–∑—ã–≤–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞—Ü–∏–∏, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤ –º–∞—Ä—à—Ä—É—Ç–∞—Ö
- ‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤–∏–¥–µ–ª —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–≤–æ–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π
- ‚ùå –°–æ–∑–¥–∞–≤–∞–ª–æ—Å—å –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏–µ, —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### **–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚úÖ **–í–°–ï –ª–æ–∫–∞—Ü–∏–∏** –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ UI —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è
- ‚úÖ –õ–æ–∫–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ API endpoint
- ‚úÖ –°—á–µ—Ç—á–∏–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–æ–∫–∞—Ü–∏–π
- ‚úÖ UI –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–≤–æ–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π

## üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:

### **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
- üìç **23 –ª–æ–∫–∞—Ü–∏–∏** –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –í—Å–µ –ª–æ–∫–∞—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### **API:**
- ‚úÖ `GET /api/admin/tariffs/locations` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ –ª–æ–∫–∞—Ü–∏–∏
- ‚úÖ `POST /api/admin/tariffs/locations` - —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–µ –ª–æ–∫–∞—Ü–∏–∏

### **Frontend:**
- ‚úÖ –ó–∞–≥—Ä—É–∂–∞–µ—Ç –≤—Å–µ –ª–æ–∫–∞—Ü–∏–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
- ‚úÖ –û–±–Ω–æ–≤–ª—è–µ—Ç —Å–ø–∏—Å–æ–∫ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–π –ª–æ–∫–∞—Ü–∏–∏
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—á–µ—Ç—á–∏–∫ –ª–æ–∫–∞—Ü–∏–π –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ –≤–∫–ª–∞–¥–∫–∏
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–π –ª–æ–∫–∞—Ü–∏–∏

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

### **–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–∞–∑–¥–µ–ª "–¢–∞—Ä–∏—Ñ—ã" ‚Üí –≤–∫–ª–∞–¥–∫–∞ "–õ–æ–∫–∞—Ü–∏–∏"
2. –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å **–≤—Å–µ 23 –ª–æ–∫–∞—Ü–∏–∏** –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –ª–æ–∫–∞—Ü–∏—é
4. **–ù–æ–≤–∞—è –ª–æ–∫–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –≤ —Å–ø–∏—Å–∫–µ —Å—Ä–∞–∑—É**
5. –°—á–µ—Ç—á–∏–∫ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ –¥–æ–ª–∂–µ–Ω –æ–±–Ω–æ–≤–∏—Ç—å—Å—è

### **–õ–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏:**
```
üìç –ó–∞–≥—Ä—É–∂–∞–µ–º –≤—Å–µ –ª–æ–∫–∞—Ü–∏–∏...
‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ –ª–æ–∫–∞—Ü–∏–π: 23
üèôÔ∏è –ù–∞—á–∏–Ω–∞–µ–º —Å–æ–∑–¥–∞–Ω–∏–µ –ª–æ–∫–∞—Ü–∏–∏: {name: "...", type: "..."}
üéâ –õ–æ–∫–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞ —É—Å–ø–µ—à–Ω–æ, ID: [—á–∏—Å–ª–æ]
üîÑ –û–±–Ω–æ–≤–ª—è–µ–º –º–∞—Ç—Ä–∏—Ü—É...
üìç –ó–∞–≥—Ä—É–∂–∞–µ–º –≤—Å–µ –ª–æ–∫–∞—Ü–∏–∏...
‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ –ª–æ–∫–∞—Ü–∏–π: 24
```

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ:

**–ü—Ä–æ–±–ª–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞!** –¢–µ–ø–µ—Ä—å UI –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –≤—Å–µ –ª–æ–∫–∞—Ü–∏–∏ –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –±—É–¥—É—Ç –≤–∏–¥–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–≤–æ–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ.

**–°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –æ–∂–∏–¥–∞–µ—Ç—Å—è!** üöÄ
